{"version":3,"sources":["../../../src/test/auth/auth.test.js"],"names":["describe","email","faker","internet","user","name","password","it","done","app","post","send","set","expect","end","err","res","body","to","have","property","deep","be","an"],"mappings":";;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAPA;AASAA,QAAQ,CAAC,gCAAD,EAAmC,YAAM;AAC/C,MAAMC,KAAK,GAAGC,kBAAMC,QAAN,CAAeF,KAAf,EAAd;;AACA,MAAIG,IAAI,GAAG;AACTC,IAAAA,IAAI,EAAE,MADG;AAETJ,IAAAA,KAAK,EAAEA,KAFE;AAGTK,IAAAA,QAAQ,EAAE;AAHD,GAAX;AAKAC,EAAAA,EAAE,CAAC,oCAAD,EAAuC,UAAAC,IAAI,EAAI;AAC/C,+BAAQC,kBAAR,EACGC,IADH,CACQ,qBADR,EAEGC,IAFH,CAEQP,IAFR,EAGGQ,GAHH,CAGO,QAHP,EAGiB,kBAHjB,EAIGC,MAJH,CAIU,cAJV,EAI0B,MAJ1B,EAKGA,MALH,CAKU,GALV,EAMGC,GANH,CAMO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,wBAAOA,GAAG,CAACC,IAAX,EAAiBC,EAAjB,CAAoBC,IAApB,CAAyBC,QAAzB,CAAkC,SAAlC;AACA,wBAAOJ,GAAG,CAACC,IAAX,EAAiBC,EAAjB,CAAoBC,IAApB,CAAyBE,IAAzB,CAA8BD,QAA9B,CACE,SADF,EAEE,2BAFF;AAIAZ,MAAAA,IAAI;AACL,KAbH;AAcD,GAfC,CAAF;AAiBAD,EAAAA,EAAE,CAAC,uDAAD,EAA0D,UAAAC,IAAI,EAAI;AAClE,QAAIJ,IAAI,GAAG;AACTH,MAAAA,KAAK,EAAE,gBADE;AAETK,MAAAA,QAAQ,EAAE;AAFD,KAAX;AAIA,+BAAQG,kBAAR,EACGC,IADH,CACQ,kBADR,EAEGC,IAFH,CAEQP,IAFR,EAGGQ,GAHH,CAGO,QAHP,EAGiB,kBAHjB,EAIGC,MAJH,CAIU,cAJV,EAI0B,MAJ1B,EAKGA,MALH,CAKU,GALV,EAMGC,GANH,CAMO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,wBAAOA,GAAG,CAACC,IAAX,EAAiBC,EAAjB,CAAoBI,EAApB,CAAuBC,EAAvB,CAA0B,QAA1B;AACA,wBAAOP,GAAG,CAACC,IAAX,EAAiBC,EAAjB,CAAoBC,IAApB,CAAyBC,QAAzB,CAAkC,OAAlC;AACA,wBAAOJ,GAAG,CAACC,IAAX,EAAiBC,EAAjB,CAAoBC,IAApB,CAAyBE,IAAzB,CAA8BD,QAA9B,CAAuC,OAAvC,EAAgD,gBAAhD;AACAZ,MAAAA,IAAI;AACL,KAXH;AAYD,GAjBC,CAAF;AAkBD,CA1CO,CAAR","sourcesContent":["/* eslint-disable no-undef */\r\nimport request from 'supertest';\r\nimport mongoose from 'mongoose';\r\nimport faker from 'faker';\r\nimport { expect } from 'chai';\r\nimport app from '../../server';\r\nimport assert from 'assert';\r\nimport User from '../../database/models/User';\r\n\r\ndescribe('[Authentication] /auth Testing', () => {\r\n  const email = faker.internet.email();\r\n  let user = {\r\n    name: 'jane',\r\n    email: email,\r\n    password: '123456'\r\n  };\r\n  it('should be able to sign up new user', done => {\r\n    request(app)\r\n      .post('/api/auth/register/')\r\n      .send(user)\r\n      .set('Accept', 'application/json')\r\n      .expect('Content-Type', /json/)\r\n      .expect(201)\r\n      .end((err, res) => {\r\n        expect(res.body).to.have.property('message');\r\n        expect(res.body).to.have.deep.property(\r\n          'message',\r\n          'User created successfully'\r\n        );\r\n        done();\r\n      });\r\n  });\r\n\r\n  it('should not be able to sign in user with invalid email', done => {\r\n    let user = {\r\n      email: 'jane@test.com9',\r\n      password: '123456'\r\n    };\r\n    request(app)\r\n      .post('/api/auth/login/')\r\n      .send(user)\r\n      .set('Accept', 'application/json')\r\n      .expect('Content-Type', /json/)\r\n      .expect(401)\r\n      .end((err, res) => {\r\n        expect(res.body).to.be.an('object');\r\n        expect(res.body).to.have.property('error');\r\n        expect(res.body).to.have.deep.property('error', 'User not found');\r\n        done();\r\n      });\r\n  });\r\n});\r\n"],"file":"auth.test.js"}